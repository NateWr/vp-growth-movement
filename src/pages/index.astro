---
import Layout from '../layouts/Layout.astro'
import Chart from '../components/Chart.vue'
import { columns, data, rows, ticks } from '../data/chart-config.json'
import IconRadioButtonChecked from '../images/icon-radio-button-checked.svg'
import { astroGetSortedStories } from "../utilities/astro-utilities"

const stories = await astroGetSortedStories()
---

<Layout
	title="Growth of a Movement: The BDS campaign for Palestinian justice"
	description="Explore the actions that have shaped the Palestinian-led Boycott, Divestment, and Sanctions (BDS) movement for freedom, justice, and equality."
	currentUrl="/"
	bgColor="black"
>
	<div class="bg-black text-white pt-(--header-height)">
		<div
			class={`
				h-32
				sm:h-40
				md:h-48
				lg:h-64
				2xl:h-80
				3xl:h-96
			`}
		>
			<Chart
				client:only="vue"
				columns={columns}
				datasets={[
					{
						id: 'all-data',
						hexes: data,
					},
				]}
				rows={rows}
				ticks={ticks}
				showAllYears={false}
			/>
		</div>
		<section
			class="
				mt-4
				p-4
				flex
				flex-col
				gap-8
				max-w-6xl
				mx-auto
				md:p-12
				lg:grid
				lg:grid-cols-12
				xl:gap-16
			"
		>
			<div class="lg:col-span-6 xl:col-span-5">
				<h1 class="sr-only">
					Growth of a Movement
				</h1>
				<p class="text-xl leading-relaxed">Explore the actions that have shaped the Palestinian-led, global Boycott, Divestment, and Sanctions (BDS) movement for freedom, justice, and equality.</p>
			</div>
			<div
				class="
					flex
					flex-col
					gap-4
					lg:col-span-6
					xl:col-span-7
				"
			>
				{stories.map(story => (
					<a
						href={`/${story.id}`}
						class="
							flex
							items-center
							gap-3
							p-3
							border-2
							hover:text-yellow
						"
					>
						<IconRadioButtonChecked class="w-8 h-8" aria-hidden="true" />
						<div class="flex flex-col">
							<span class="text-sm leading-tight uppercase">
								{story.data.prefix}
							</span>
							<span class="text-2xl leading-tight font-black">
								{story.data.title}
							</span>
						</div>
					</a>
				))}
			</div>
		</section>
	</div>
</Layout>
